From c4d908f8af26bcfc173a43d92edfae1ae525c4a6 Mon Sep 17 00:00:00 2001
From: Patrick Roberts <patrick@silentbluesystems.com>
Date: Fri, 28 Sep 2012 16:39:50 -0700
Subject: [PATCH 1/2] Add mkspec

---
 mkspecs/qws/linux-rock-g++/qmake.conf      |   46 ++++++++++++++++++++++++++++
 mkspecs/qws/linux-rock-g++/qplatformdefs.h |   42 +++++++++++++++++++++++++
 2 files changed, 88 insertions(+), 0 deletions(-)
 create mode 100644 mkspecs/qws/linux-rock-g++/qmake.conf
 create mode 100644 mkspecs/qws/linux-rock-g++/qplatformdefs.h

diff --git a/mkspecs/qws/linux-rock-g++/qmake.conf b/mkspecs/qws/linux-rock-g++/qmake.conf
new file mode 100644
index 0000000..593872a
--- /dev/null
+++ b/mkspecs/qws/linux-rock-g++/qmake.conf
@@ -0,0 +1,46 @@
+# Palm -->
+
+#
+# qmake configuration for building for ARMv7 devices with arm-linux-g++
+#
+
+include(../../common/g++.conf)
+include(../../common/linux.conf)
+include(../../common/qws.conf)
+
+# modifications to g++.conf
+QMAKE_CC                = $$(CC_TMP) 
+QMAKE_CXX               = $$(CXX_TMP)
+QMAKE_LINK              = $$(CXX_TMP)
+QMAKE_LINK_SHLIB        = $$(CXX_TMP)
+QMAKE_CFLAGS           += $$(CFLAGS_TMP) 
+QMAKE_CXXFLAGS         += $$(CXXFLAGS_TMP) 
+QMAKE_LFLAGS		   += $$(CXXFLAGS_TMP) 
+
+# modifications to linux.conf
+QMAKE_AR                = $$(AR_TMP)
+QMAKE_OBJCOPY           = $$(OBJCOPY_TMP) 
+QMAKE_STRIP             = $$(STRIP_TMP)
+QMAKE_LIBS_OPENGL_ES2   = -Wl,-rpath $(STAGING_LIBDIR) -lGLESv2 -lEGL 
+
+QMAKE_CFLAGS           += \
+	-I$(STAGING_INCDIR)
+
+QMAKE_CXXFLAGS         += \
+	-I$(STAGING_INCDIR) 
+
+QMAKE_LFLAGS           += \
+	-L$(STAGING_LIBDIR) \
+	-Wl,-rpath $(STAGING_LIBDIR)   # <HACK> WHY DO I HAVE TO ADD THIS?
+
+
+QMAKE_INCDIR_OPENGL_ES2 = $(STAGING_INCDIR) 
+QMAKE_LIBDIR_OPENGL_ES2 = $(STAGING_LIBDIR)
+
+QMAKE_INCDIR_EGL        = $(STAGING_INCDIR) 
+QMAKE_LIBDIR_EGL        = $(STAGING_LIBDIR)
+QMAKE_LIBS_EGL          = -Wl,-rpath $(STAGING_LIBDIR) -lEGL 
+
+
+load(qt_config)
+# <-- Palm
diff --git a/mkspecs/qws/linux-rock-g++/qplatformdefs.h b/mkspecs/qws/linux-rock-g++/qplatformdefs.h
new file mode 100644
index 0000000..f7f0d3b
--- /dev/null
+++ b/mkspecs/qws/linux-rock-g++/qplatformdefs.h
@@ -0,0 +1,42 @@
+/****************************************************************************
+**
+** Copyright (C) 2012 Nokia Corporation and/or its subsidiary(-ies).
+** All rights reserved.
+** Contact: Nokia Corporation (qt-info@nokia.com)
+**
+** This file is part of the qmake spec of the Qt Toolkit.
+**
+** $QT_BEGIN_LICENSE:LGPL$
+** GNU Lesser General Public License Usage
+** This file may be used under the terms of the GNU Lesser General Public
+** License version 2.1 as published by the Free Software Foundation and
+** appearing in the file LICENSE.LGPL included in the packaging of this
+** file. Please review the following information to ensure the GNU Lesser
+** General Public License version 2.1 requirements will be met:
+** http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html.
+**
+** In addition, as a special exception, Nokia gives you certain additional
+** rights. These rights are described in the Nokia Qt LGPL Exception
+** version 1.1, included in the file LGPL_EXCEPTION.txt in this package.
+**
+** GNU General Public License Usage
+** Alternatively, this file may be used under the terms of the GNU General
+** Public License version 3.0 as published by the Free Software Foundation
+** and appearing in the file LICENSE.GPL included in the packaging of this
+** file. Please review the following information to ensure the GNU General
+** Public License version 3.0 requirements will be met:
+** http://www.gnu.org/copyleft/gpl.html.
+**
+** Other Usage
+** Alternatively, this file may be used in accordance with the terms and
+** conditions contained in a signed written agreement between you and Nokia.
+**
+**
+**
+**
+**
+** $QT_END_LICENSE$
+**
+****************************************************************************/
+
+#include "../../linux-g++/qplatformdefs.h"
-- 
1.7.4.4

