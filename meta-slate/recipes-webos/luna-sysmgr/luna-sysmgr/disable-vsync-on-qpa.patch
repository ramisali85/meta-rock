diff --git a/Src/base/DisplayManager.cpp b/Src/base/DisplayManager.cpp
index 0ee11bf..1d2bb1a 100644
--- a/Src/base/DisplayManager.cpp
+++ b/Src/base/DisplayManager.cpp
@@ -3596,7 +3596,7 @@ void DisplayManager::changeVsyncControl(bool enable)
        if (s_forceVsyncDisable)
                return;
 
-#if defined(TARGET_DEVICE) && defined(HAVE_OPENGL)
+#if defined(TARGET_DEVICE) && defined(HAVE_OPENGL) && defined(HAVE_QWS)
        QGLContext* gc = (QGLContext*) QGLContext::currentContext();
        if (gc) {
                setEglSwapInterval(enable ? 1 : 0);
